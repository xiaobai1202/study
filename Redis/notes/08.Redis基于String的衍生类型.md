# Redis Bit Map

---
Redis 中是利用String类型数据结构实现BitMap，因此最大上限是512M，转换为bit则是2^32个bit位。

BitMap的操作命令有：

| 命令          | 描述                                       |
|-------------|------------------------------------------|
| SETBIT      | 向指定位置(offset)存入一个0或1                     |
| GETBIT      | 获取指定位置(offset)的bit值                      |
| BITCOUNT    | 统计BitMap中值为1的bit位的数量                     |
| BITFIELD    | 操作（查询、修改、自增）BitMap中bit数组中的指定位置(offset)的值 |
| BITFIELD_RO | 获取BitMap中bit数组，并以十进制形式返回                 |
| BITOP       | 将多个BitMap的结果做位运算（与、或、异或）                 |
| BITPOS      | 查找bit数组中指定范围内第一个0或1出现的位置                 |


---

## Hyperloglog 

HLL 是从loglog算法派生的概率算法，用于确定非常大的集合的基数，而不需要存储其所有值。
Redis 中的HLL 是基于String实现的，单个HLL的内存永远小于16kb，内存占用低的令人发指，作为代价，其测量的结果是概率性的，有小于0.81%的误差。

常见命令：

| 命令       | 描述            |
|----------|---------------|
| PFADD    | 向指定的HLL中加入元素  |
| PFCOUNT  | 返回指定的HLL大致数据量 |
| PFMERGE  | 将多个HLL合并成一个   |

